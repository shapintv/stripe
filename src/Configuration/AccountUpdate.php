<?php

declare(strict_types=1);

/*
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file for details.
 */

namespace Shapin\Stripe\Configuration;

use Symfony\Component\Config\Definition\Builder\TreeBuilder;
use Symfony\Component\Config\Definition\ConfigurationInterface;

class AccountUpdate implements ConfigurationInterface
{
    public function getConfigTreeBuilder()
    {
        $treeBuilder = new TreeBuilder('shapin_stripe');
        $rootNode = $treeBuilder->getRootNode();

        $rootNode
            ->children()
                ->scalarNode('account_token')
                    ->info('An account token, used to securely provide details to the account.')
                ->end()
                ->scalarNode('business_logo')
                    ->info('(ID of a file upload) A logo for this account (at least 128px x 128px)')
                ->end()
                ->scalarNode('business_name')
                    ->info('The publicly sharable name for this account.')
                ->end()
                ->scalarNode('business_primary_color')
                    ->info('A CSS hex color value representing the primary branding color for this account.')
                ->end()
                ->scalarNode('business_url')
                    ->info('The URL that best shows the service or product provided by this account.')
                ->end()
                ->booleanNode('debit_negative_balances')
                    ->info('A Boolean indicating whether Stripe should try to reclaim negative balances from an attached bank account. For details, see Understanding Connect Account Balances.')
                ->end()
                ->arrayNode('decline_charge_on')
                    ->children()
                        ->booleanNode('avs_failure')
                            ->info('Whether Stripe automatically declines charges with an incorrect ZIP or postal code. This setting only applies when a ZIP or postal code is provided and they fail bank verification.')
                        ->end()
                        ->booleanNode('cvc_failure')
                            ->info('Whether Stripe automatically declines charges with an incorrect CVC. This setting only applies when a CVC is provided and it fails bank verification.')
                        ->end()
                    ->end()
                    ->info('Account-level settings to automatically decline certain types of charges, regardless of the card issuer’s decision.')
                ->end()
                ->scalarNode('default_currency')
                    ->info('Three-letter ISO currency code representing the default currency for the account. This must be a currency that Stripe supports in the account’s country.')
                ->end()
                ->scalarNode('email')
                    ->info('The email address of the account holder. For Standard accounts, Stripe will email your user with instructions on how to set up their account. For Custom accounts, this is only to make the account easier to identify to you: Stripe will never directly email your users.')
                ->end()
                ->arrayNode('external_account')
                    ->children()
                        ->scalarNode('object')
                            ->isRequired()
                            ->info('The type of external account. Should be bank_account.')
                        ->end()
                        ->scalarNode('country')
                            ->isRequired()
                            ->info('The country in which the bank account is located.')
                        ->end()
                        ->scalarNode('currency')
                            ->isRequired()
                            ->info('The currency the bank account is in. This must be a country/currency pairing that Stripe supports.')
                        ->end()
                        ->scalarNode('account_holder_name')
                            ->info('The name of the person or business that owns the bank account. This field is required when attaching the bank account to a Customer object.')
                        ->end()
                        ->enumNode('account_holder_type')
                            ->values(['individual', 'company'])
                            ->info('The type of entity that holds the account. This can be either individual or company. This field is required when attaching the bank account to a Customer object.')
                        ->end()
                        ->scalarNode('routing_number')
                            ->info('The routing number, sort code, or other country-appropriate institution number for the bank account. For US bank accounts, this is required and should be the ACH routing number, not the wire routing number. If you are providing an IBAN for account_number, this field is not required.')
                        ->end()
                        ->scalarNode('account_number')
                            ->isRequired()
                            ->info('The account number for the bank account, in string form. Must be a checking account.')
                        ->end()
                    ->end()
                    ->info('A card or bank account to attach to the account. You can provide either a token, like the ones returned by Stripe.js, or a dictionary, as documented in the external_account parameter for bank account creation. By default, providing an external account sets it as the new default external account for its currency, and deletes the old default if one exists. To add additional external accounts without replacing the existing default for the currency, use the bank account or card creation API.')
                ->end()
                ->arrayNode('legal_entity')
                    ->children()
                        ->arrayNode('additional_owners')
                            ->children()
                                ->arrayNode('address')
                                    ->children()
                                        ->scalarNode('city')
                                            ->info('City, district, suburb, town, or village. This will be unset if you POST an empty value.')
                                        ->end()
                                        ->scalarNode('country')
                                            ->info('Two-letter country code (ISO 3166-1 alpha-2). This will be unset if you POST an empty value.')
                                        ->end()
                                        ->scalarNode('line1')
                                            ->info('Address line 1 (e.g., street, PO Box, or company name). This will be unset if you POST an empty value.')
                                        ->end()
                                        ->scalarNode('line2')
                                            ->info('Address line 2 (e.g., apartment, suite, unit, or building). This will be unset if you POST an empty value.')
                                        ->end()
                                        ->scalarNode('postal_code')
                                            ->info('ZIP or postal code. This will be unset if you POST an empty value.')
                                        ->end()
                                        ->scalarNode('state')
                                            ->info('State, county, province, or region. This will be unset if you POST an empty value.')
                                        ->end()
                                    ->end()
                                    ->info('The personal address of the owner, used for verification')
                                ->end()
                                ->arrayNode('dob')
                                    ->children()
                                        ->integerNode('day')
                                            ->isRequired()
                                            ->min(1)->max(31)
                                            ->info('The day of birth, between 1 and 31.')
                                        ->end()
                                        ->integerNode('month')
                                            ->isRequired()
                                            ->min(1)->max(12)
                                            ->info('The month of birth, between 1 and 12.')
                                        ->end()
                                        ->integerNode('year')
                                            ->isRequired()
                                            ->info('The four-digit year of birth.')
                                        ->end()
                                    ->end()
                                    ->info('The owner’s date of birth. Note that you must provide the entire date of birth at the same time. You cannot, for example, provide only the year without also providing month and day.')
                                ->end()
                                ->scalarNode('first_name')
                                    ->info('The owner’s first name. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('last_name')
                                    ->info('The owner’s last name. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('maiden_name')
                                    ->info('The owner’s maiden name. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('personal_id_number')
                                    ->info('The government-issued ID number of the account representative, as appropriate for the representative’s country. (Examples are a Social Security Number in the U.S., or a Social Insurance Number in Canada). This will be unset if you POST an empty value.')
                                ->end()
                                ->arrayNode('verification')
                                    ->children()
                                        ->scalarNode('document')
                                            ->info('An ID returned by a file upload with a purpose value of identity_document. This will be unset if you POST an empty value.')
                                        ->end()
                                        ->scalarNode('status')
                                            ->info('The verification status of the provided ID. This will be unset if you POST an empty value.')
                                        ->end()
                                    ->end()
                                    ->info('Information on the verification state of the owner, including what information is needed and by when')
                                ->end()
                            ->end()
                            ->info('Information about anyone besides the account representative who owns at least 25% of the legal entity. This field is required only for Singapore, Hong Kong, and SEPA member countries. For details, see our Handling Identity Verification with the API documentation.')
                        ->end()
                        ->arrayNode('address')
                            ->children()
                                ->scalarNode('city')
                                    ->info('City, district, suburb, town, or village. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('country')
                                    ->info('Two-letter country code (ISO 3166-1 alpha-2). This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('line1')
                                    ->info('Address line 1 (e.g., street, PO Box, or company name). This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('line2')
                                    ->info('Address line 2 (e.g., apartment, suite, unit, or building). This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('postal_code')
                                    ->info('ZIP or postal code. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('state')
                                    ->info('State, county, province, or region. This will be unset if you POST an empty value.')
                                ->end()
                            ->end()
                            ->info('The address of the legal entity (i.e., individual or company).')
                        ->end()
                        ->arrayNode('address_kana')
                            ->children()
                                ->scalarNode('city')
                                    ->info('City or ward. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('country')
                                    ->info('Two-letter country code (ISO 3166-1 alpha-2). This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('line1')
                                    ->info('Block or building number. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('line2')
                                    ->info('Building details. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('postal_code')
                                    ->info('Postal code. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('state')
                                    ->info('Prefecture. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('town')
                                    ->info('Town or cho-me. This will be unset if you POST an empty value.')
                                ->end()
                            ->end()
                            ->info('The Kana address variation for the legal entity (Japan only).')
                        ->end()
                        ->arrayNode('address_kanji')
                            ->children()
                                ->scalarNode('city')
                                    ->info('City or ward. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('country')
                                    ->info('Two-letter country code (ISO 3166-1 alpha-2). This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('line1')
                                    ->info('Block or building number. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('line2')
                                    ->info('Building details. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('postal_code')
                                    ->info('Postal code. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('state')
                                    ->info('Prefecture. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('town')
                                    ->info('Town or cho-me. This will be unset if you POST an empty value.')
                                ->end()
                            ->end()
                            ->info('The Kanji address variation for the legal entity (Japan only).')
                        ->end()
                        ->scalarNode('business_name')
                            ->info('The legal name of the entity (companies only). This will be unset if you POST an empty value.')
                        ->end()
                        ->scalarNode('business_name_kana')
                            ->info('The Kana legal name variation for the company (Japan-based companies only). This will be unset if you POST an empty value.')
                        ->end()
                        ->scalarNode('business_name_kanji')
                            ->info('The Kanji legal name variation for the company (Japan-based companies only). This will be unset if you POST an empty value.')
                        ->end()
                        ->scalarNode('business_tax_id')
                            ->info('The business ID number of the legal entity (companies only), as appropriate for the company’s country. (Examples are an Employer ID Number in the U.S., a Business Number in Canada, or a Company Number in the UK.) This will be unset if you POST an empty value.')
                        ->end()
                        ->scalarNode('business_vat_id')
                            ->info('The VAT number of the legal entity (companies only). This will be unset if you POST an empty value.')
                        ->end()
                        ->arrayNode('dob')
                            ->children()
                                ->integerNode('day')
                                    ->isRequired()
                                    ->min(1)->max(31)
                                    ->info('The day of birth, between 1 and 31.')
                                ->end()
                                ->integerNode('month')
                                    ->isRequired()
                                    ->min(1)->max(12)
                                    ->info('The month of birth, between 1 and 12.')
                                ->end()
                                ->integerNode('year')
                                    ->isRequired()
                                    ->info('The four-digit year of birth.')
                                ->end()
                            ->end()
                            ->info('The account representative’s date of birth. Note that you must provide the entire date of birth at the same time. You cannot, for example, provide only the year without also providing the month and day.')
                        ->end()
                        ->scalarNode('first_name')
                            ->info('The account representative’s first name. This will be unset if you POST an empty value.')
                        ->end()
                        ->scalarNode('first_name_kana')
                            ->info('The Kana variation of the account representative’s first name (Japan only). This will be unset if you POST an empty value.')
                        ->end()
                        ->scalarNode('first_name_kanji')
                            ->info('The Kanji variation of the account representative’s first name (Japan only). This will be unset if you POST an empty value.')
                        ->end()
                        ->enumNode('gender')
                            ->values(['male', 'female'])
                            ->info('The gender of the account representative. Can be male or female (by international regulations). This will be unset if you POST an empty value.')
                        ->end()
                        ->scalarNode('last_name')
                            ->info('The account representative’s last name. This will be unset if you POST an empty value.')
                        ->end()
                        ->scalarNode('last_name_kana')
                            ->info('The Kana variation of the account representative’s last name (Japan only). This will be unset if you POST an empty value.')
                        ->end()
                        ->scalarNode('last_name_kanji')
                            ->info('The Kanji variation of the account representative’s last name (Japan only). This will be unset if you POST an empty value.')
                        ->end()
                        ->scalarNode('maiden_name')
                            ->info('The account representative’s maiden name. This will be unset if you POST an empty value.')
                        ->end()
                        ->arrayNode('personal_address')
                            ->children()
                                ->scalarNode('city')
                                    ->info('City, district, suburb, town, or village. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('country')
                                    ->info('Two-letter country code (ISO 3166-1 alpha-2). This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('line1')
                                    ->info('Address line 1 (e.g., street, PO Box, or company name). This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('line2')
                                    ->info('Address line 2 (e.g., apartment, suite, unit, or building). This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('postal_code')
                                    ->info('ZIP or postal code. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('state')
                                    ->info('State, county, province, or region. This will be unset if you POST an empty value.')
                                ->end()
                            ->end()
                            ->info('The account representative’s personal address, used for verification.')
                        ->end()
                        ->arrayNode('personal_address_kana')
                            ->children()
                                ->scalarNode('city')
                                    ->info('City or ward. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('country')
                                    ->info('Two-letter country code (ISO 3166-1 alpha-2). This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('line1')
                                    ->info('Block or building number. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('line2')
                                    ->info('Building details. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('postal_code')
                                    ->info('Postal code. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('state')
                                    ->info('Prefecture. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('town')
                                    ->info('Town or cho-me. This will be unset if you POST an empty value.')
                                ->end()
                            ->end()
                            ->info('The Kana address variation for the legal entity (Japan only).')
                        ->end()
                        ->arrayNode('personal_address_kanji')
                            ->children()
                                ->scalarNode('city')
                                    ->info('City or ward. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('country')
                                    ->info('Two-letter country code (ISO 3166-1 alpha-2). This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('line1')
                                    ->info('Block or building number. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('line2')
                                    ->info('Building details. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('postal_code')
                                    ->info('Postal code. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('state')
                                    ->info('Prefecture. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('town')
                                    ->info('Town or cho-me. This will be unset if you POST an empty value.')
                                ->end()
                            ->end()
                            ->info('The Kanji address variation for the legal entity (Japan only).')
                        ->end()
                        ->scalarNode('personal_id_number')
                            ->info('The government-issued ID number of the account representative, as appropriate for the representative’s country. (Examples are a Social Security Number in the U.S., or a Social Insurance Number in Canada). Instead of the number itself, you can also provide a PII token created with Stripe.js. This will be unset if you POST an empty value.')
                        ->end()
                        ->scalarNode('phone_number')
                            ->info('The legal entity’s phone number, used for verification. This will be unset if you POST an empty value.')
                        ->end()
                        ->scalarNode('ssn_last_4')
                            ->info('The last four digits of the account representative’s Social Security Number (U.S. only). This will be unset if you POST an empty value.')
                        ->end()
                        ->scalarNode('tax_id_registrar')
                            ->info('The jurisdiction in which the business_tax_id is registered (Germany-based companies only). This will be unset if you POST an empty value.')
                        ->end()
                        ->enumNode('type')
                            ->values(['individual', 'company'])
                            ->info('The legal entity type. Can be individual or company.')
                        ->end()
                        ->arrayNode('verification')
                            ->children()
                                ->scalarNode('document')
                                    ->info('An ID returned by a file upload with a purpose value of identity_document. This will be unset if you POST an empty value.')
                                ->end()
                                ->scalarNode('status')
                                    ->info('The verification status of the provided ID. This will be unset if you POST an empty value.')
                                ->end()
                            ->end()
                            ->info('Information on the verification state of the account representative.')
                        ->end()
                    ->end()
                    ->info('Information about the legal entity itself, including information about the associated account representative.')
                ->end()
                ->arrayNode('metadata')
                    ->scalarPrototype()->end()
                    ->info('A set of key-value pairs that you can attach to an Account object. This can be useful for storing additional information about the account in a structured format.')
                ->end()
                ->arrayNode('payout_schedule')
                    ->children()
                        ->scalarNode('delay_days')
                            ->info('The number of days charge funds are held before being paid out. May also be set to minimum, representing the lowest available value for the account country. Default is minimum. The delay_days parameter does not apply when the interval is manual.')
                        ->end()
                        ->scalarNode('interval')
                            ->info('How frequently available funds are paid out. One of: daily, manual, weekly, or monthly. Default is daily.')
                        ->end()
                        ->scalarNode('monthly_anchor')
                            ->info('The day of the month when available funds are paid out. Required and applicable only if interval is monthly.')
                        ->end()
                        ->scalarNode('weekly_anchor')
                            ->info('The day of the week when available funds are paid out, specified as monday, tuesday, etc. (required and applicable only if interval is weekly.)')
                        ->end()
                    ->end()
                    ->info('Details on when funds from charges are available, and when they are paid out to an external account. For details, see our Setting Bank and Debit Card Payouts documentation.')
                ->end()
                ->scalarNode('payout_statement_descriptor')
                    ->info('The text that appears on the bank account statement for payouts. If not set, this defaults to the platform’s bank descriptor as set in the Dashboard. This will be unset if you POST an empty value.')
                ->end()
                ->scalarNode('product_description')
                    ->info('Internal-only description of the product sold or service provided by the business. It’s used by Stripe for risk and underwriting purposes.')
                ->end()
                ->scalarNode('statement_descriptor')
                    ->info('The default text that appears on credit card statements when a charge is made directly on the account')
                ->end()
                ->scalarNode('support_email')
                    ->info('A publicly shareable support email address for the business.')
                ->end()
                ->scalarNode('support_phone')
                    ->info('A publicly shareable support phone number for the business.')
                ->end()
                ->scalarNode('support_url')
                    ->info('A publicly shareable URL that provides support for this account.')
                ->end()
                ->arrayNode('tos_acceptance')
                    ->children()
                        ->integerNode('date')
                            ->isRequired(true)
                            ->info('The Unix timestamp marking when the account representative accepted the Stripe Services Agreement.')
                        ->end()
                        ->scalarNode('ip')
                            ->isRequired(true)
                            ->info('The IP address from which the account representative accepted the Stripe Services Agreement.')
                        ->end()
                        ->scalarNode('user_agent')
                            ->info('The user agent of the browser from which the account representative accepted the Stripe Services Agreement. This will be unset if you POST an empty value.')
                        ->end()
                    ->end()
                    ->info('Details on the account’s acceptance of the Stripe Services Agreement.')
                ->end()
            ->end()
        ;

        return $treeBuilder;
    }
}
